<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Welcome to AirInv</title>
<link rel="stylesheet" href="libs/SlickGrid/slick.grid.css" type="text/css" media="screen" charset="utf-8" />
<link type="text/css" href="libs/jQueryUI/css/redmond/jquery-ui-1.8.13.custom.css" rel="stylesheet" />
<script type="text/javascript" src="libs/jQueryUI/js/jquery-1.5.1.min.js"></script>
<script type="text/javascript" src="libs/jQueryUI/js/jquery-ui-1.8.13.custom.min.js"></script>

<script type="text/javascript" src="libs/SlickGrid/lib/jquery.event.drag-2.0.min.js"></script>
<script type="text/javascript" src="libs/SlickGrid/slick.core.js"></script>
<script type="text/javascript" src="libs/SlickGrid/slick.grid.js"></script>



<script type="text/javascript" src="libs/Highcharts/highcharts.js"></script>
<script type="text/javascript" src="libs/Highcharts//modules/exporting.js"></script>

<script type="text/javascript" src="js/bidprice-chart.js"></script>
<script type="text/javascript" src="js/bookingarrival-chart.js"></script>



<!--Hardcoded JSON-->
<!--<script type="text/javascript" src="sample/datasample.js"></script>-->
</head>
<body>
<div id="container" style="width:1200px; margin: 0 auto;" >
  <div id="header" style="background-image:url(assets/images/airsimheader2.png); width:1200px; height:245px">
    <div align="left" style="vertical-align:bottom; padding-left:10px">
      <p>&nbsp;</p>
      <p>&nbsp;</p>
      <p>&nbsp;</p>
      <p>&nbsp;</p>
      <p>&nbsp;</p>
      <p>&nbsp;</p>
      <p>&nbsp;</p>
      <p>Company Code:
        <input id="tbCompanyCode" type="text" value="SV" />
        Flight Number:
        <input id="tbFlightNumber" type="text" value="5"/>
        Date:
        <input type="text" id="datepicker" value="2010-Mar-11" />
        <!--<button id="btnFetch"  onClick="fetch()">Fetch !</button>-->
        <input name="input" type="submit" value="Fetch!" onclick="fetch()"/>
      </p>
    </div>
  </div>
  <div align="center" style="padding-left:0px; padding-top:20px; padding-bottom:20px">
    <table width="100%" border="0" cellpadding="0" align="center" style="padding-left:0px">
      <tr align="center">
        <td align="right"><p align="left">&nbsp;</p>
          <p align="left">&nbsp;</p></td>
        <td align="right" style="padding-left:0px;"><div id="flights-GridDisplay" style="padding-left:0px;"></div></td>
        <td align="left"><div id="legs-GridDisplay"></div></td>
      </tr>
    </table>
    <div id="tabs" >
      <ul>
        <li><a href="#tabs-2">Inventory</a></li>
        <li><a href="#tabs-1">Bid-Price Vectors</a></li>
        <!--<li><a href="#tabs-3">Schedule</a></li>-->
        <li><a href="#tabs-4">Bkg Pattern</a></li>
        <li><a href="#tabs-5">DCS Counters</a></li>
        <li><a href="#tabs-6">Bkg Origin</a></li>
        <li><a href="#tabs-7">Nesting Structure</a></li>
        <li><a href="#tabs-8">Nego Space</a></li>
        <li><a href="#tabs-9">Published N/AVS</a></li>
      </ul>
      <div id="tabs-1" style="padding:6px">
        <div id="bidpricechartcontainer" align="center" style="size:95%"></div>
      </div>
      <div id="tabs-2" style="padding:1px; height:auto; width:auto">
        <div style="width:100%; height:100%;">
          <div id="subclasses-GridDisplay" style="padding:6px; height:auto; width:auto;"></div>
        </div>
      </div>
      <!--<div id="tabs-3"><img src="assets/images/SQ_Network_2009_Jan.png" width="927" height="600" /></div>-->
      <div id="tabs-4" style="padding:6px; height:420px; width:1100px">
        <div id="bookingarrivalchartcontainer" align="center" style="size:95%"></div>
        <p>&nbsp;</p>
      </div>
      <div id="tabs-5"></div>
      <div id="tabs-6"></div>
      <div id="tabs-7"></div>
      <div id="tabs-8"></div>
      <div id="tabs-9"></div>
    </div>
  </div>
</div>
</body>
<script type="text/javascript">

//jQ:Datepicker + Date format
	$(function() 
	{
		$( "#datepicker" ).datepicker({
										changeMonth: true,
										changeYear: true,
										showButtonPanel: true,
										numberOfMonths: 2,
										dateFormat: "yy-M-d",
									  });
	});
	
//jQ:Buttons
	$(function() 
	{
		$( "button, input:submit, a", ".demo" ).button();
		$( "a", ".demo" ).click(function() { return false; });
	});

//jQ:tabs	
	$(function() {
		$( "#tabs" ).tabs();
	});
	
	
function loadGrid(){	
var foundFlightsGrid;
var foundFlightsColumns = [
			{id:"departureDate", name:"Daperture Date", field:"departureDate"},
			{id:"airlinecode", name:"Airline Code", field:"airlinecode"},
			{id:"flightnumber", name:"Flight Number", field:"flightnumber"}
		];

var options = {
			enableCellNavigation: true,
            enableColumnReorder: false
		};
		
		$.getJSON('http://ncevsediri-fed//api/display/inv/SV/5/2010-Mar-11', function (data) {
    grid = new Slick.Grid($("#flights-GridDisplay"), data, columns, options);

    grid.onSort = function (sortCol, sortAsc) {
        sortdir = sortAsc ? 1 : -1;
        sortcol = sortCol.field;

        if (sortAsc == true)
            data.sort(compare);
        else
            data.reverse(compare);

        foundFlightsGrid.render();
    };
});
	
}
/*var subclassesColumns = [
			{id:"flight", name:"Flight", field:"flight"},
			{id:"segment", name:"Segment", field:"segment"},
			{id:"cabin", name:"Cabin", field:"cabin"},
			{id:"ff", name:"FF", field:"ff"},
			{id:"subclass", name:"Subclass", field:"subclass"},
			
		];*/	
	
	function fetch()
	{
		var companyCode=document.getElementById('tbCompanyCode').value;
		var flightNumber=document.getElementById('tbFlightNumber').value;
		var date=document.getElementById('datepicker').value;
		//In js/airinvgrid
		//processRequest();
		queryBuild(companyCode, flightNumber, date)	
	}


</script>
</html>
